/* Manual --------------------------------------------------------------------*/
/*
[기본사용절차]
1. wave_proc.c 파일을 라이브러리(User)에 추가한다.
2. led_controller.c 파일이 라이브러리(User)에 추가가 선행되어야 한다.
3. 사용전 wave_proc_Init()로 최초 1회 초기화 한다.
3. wave_proc_update_OptionSys() 1sec 주기로 호출하게 한다.(Ex.While(1){HAL_Delay(1000);} in Main())

[동작형태간략 설명]

 [기타사항]
*/

/* Private includes ----------------------------------------------------------*/
#include "wave_proc.h"
#include <string.h>

#include "main.h"
#include "led_controller.h"
#include "sound_proc.h"

#include "wave_overwrite.h"
#include "wave_uart.h"

//#include "stm32g0xx_hal.h"

/* Common Private define -----------------------------------------------------*/
//#define TEST_NO_VOUT
//#define TEST_NO_PULSEOUT

/* Common Private typedef ----------------------------------------------------*/
typedef union {
	uint32_t FrqIO32Data;
	struct {
		uint8_t
			CH1H1 : 1,
			CH1L1 : 1,
			CH1H2 : 1,
			CH1L2 : 1,

			CH2H1 : 1,
			CH2L1 : 1,
			CH2H2 : 1,
			CH2L2 : 1,

			CH3H1 : 1,
			CH3L1 : 1,
			CH3H2 : 1,
			CH3L2 : 1,
			CH3H3 : 1,
			CH3L3 : 1,
			CH3H4 : 1,
			CH3L4 : 1,

			CH4H1 : 1,
			CH4L1 : 1,
			CH4H2 : 1,
			CH4L2 : 1,
			CH4H3 : 1,
			CH4L3 : 1,
			CH4H4 : 1,
			CH4L4 : 1,

			nouse : 8;
	};
}FrqIOType;

typedef struct {
	uint8_t Lv : 4;
	uint8_t Mode : 3;
	bool MainPower : 1;
	bool AutoNext : 1;
	bool AutoOff : 1;
	bool MuteMode : 1;
	uint16_t AutoNextTimer : 12;
	uint16_t AutoOffTimer : 12;
}SettingValues;


/* Common Private function prototypes ----------------------------------------*/
void PatternDischarge(uint8_t Ch);
void wave_proc_update_PatternOutQueue();

void FrqOutData_setEmpty();
bool FrqOutData_IsNotFull();
void FrqOutData_Push(FrqIOType pushData);
uint8_t FrqOutData_GetCnt();
FrqIOType FrqOutData_Pop();

void wave_proc_SetStopBase();

void FrqVoltPWM_Update();
void PulseOut_Update();

void PatternSetTestMode();

/* Common Private variables --------------------------------------------------*/
SettingValues NowSetV;

ADC_HandleTypeDef* Frq_hadc;
DMA_HandleTypeDef* Frq_hdma_adc;
TIM_HandleTypeDef* PWM_htim;
//-----------------------------------------------------------------------------
const float FirmwareVersion = 2.020f;
//-----------------------------------------------------------------------------
// 시드 테이블
uint8_t UseModeCnt = 7; //사용 가능한 모드 개수
float Power_UserLv[7][4][15] = //모드 7개,포트 4개, 15단계
{
	{{0, 0.05, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.2, 1.3, }, {0, 0.05, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.2, 1.3, }, {0, 0.05, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.2, 1.3, }, {0, 0.05, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.2, 1.3, }, }, 	{{0, 0.05, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.2, 1.3, }, {0, 0.05, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.2, 1.3, }, {0, 0.05, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.2, 1.3, }, {0, 0.05, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.2, 1.3, }, }, 	{{0, 0.05, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.2, 1.3, }, {0, 0.05, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.2, 1.3, }, {0, 0.05, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.2, 1.3, }, {0, 0.05, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.2, 1.3, }, }, 	{{0, 0.05, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.2, 1.3, }, {0, 0.05, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.2, 1.3, }, {0, 0.05, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.2, 1.3, }, {0, 0.05, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.2, 1.3, }, }, 	{{0, 0.05, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.2, 1.3, }, {0, 0.05, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.2, 1.3, }, {0, 0.05, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.2, 1.3, }, {0, 0.05, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.2, 1.3, }, }, 	{{0, 0.05, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.2, 1.3, }, {0, 0.05, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.2, 1.3, }, {0, 0.05, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.2, 1.3, }, {0, 0.05, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.2, 1.3, }, }, 	{{0, 0.05, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.2, 1.3, }, {0, 0.05, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.2, 1.3, }, {0, 0.05, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.2, 1.3, }, {0, 0.05, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.2, 1.3, }, },
};
uint8_t PB_Data_Cnt = 20; //데이터 20개
uint8_t Pattern_Base[40][20] = //ID 40개, 데이터 20개, 1byte
{
	{128, 0, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {144, 0, 96, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {132, 0, 72, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {129, 0, 66, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {36, 0, 24, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {33, 0, 18, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {9, 0, 6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {82, 0, 161, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {128, 0, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {144, 0, 36, 0, 72, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {144, 0, 96, 0, 72, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {144, 0, 96, 0, 82, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, },
};
uint16_t Pattern_Freq[40][20] = //ID 40개, 데이터 20개, 2byte
{
	{1, 10, 1, 80, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {1, 10, 1, 160, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {1, 10, 1, 200, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {1, 10, 1, 300, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {1, 10, 1, 300, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {1, 10, 1, 500, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {1, 10, 1, 800, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {1, 10, 1, 1600, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {1, 10, 1, 2400, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {1, 10, 1, 4000, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {1, 10, 1, 10, 1, 80, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {1, 10, 1, 10, 1, 160, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {1, 10, 1, 10, 1, 240, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {1, 10, 1, 10, 1, 300, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {1, 10, 1, 10, 1, 400, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {1, 10, 1, 10, 1, 500, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {1, 10, 1, 10, 1, 800, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {1, 10, 1, 10, 1, 1000, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {1, 10, 1, 10, 1, 1200, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {1, 10, 1, 10, 1, 1600, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {1, 10, 1, 10, 1, 2400, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, },
};
uint8_t PT_ID_Cnt = 100; //데이터 100개
uint8_t Pattern_Time[7][100][6] = //mode 7개, 데이터 100개, 개별6byte
{
	{{0, 0, 1, 1, 0, 3, }, {0, 0, 1, 1, 0, 3, }, {0, 0, 1, 1, 0, 3, }, {0, 0, 1, 1, 0, 3, }, {0, 0, 1, 1, 0, 3, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, }, {{0, 0, 1, 1, 1, 50, }, {0, 0, 1, 1, 3, 50, }, {0, 0, 1, 1, 5, 50, }, {0, 0, 1, 1, 6, 50, }, {0, 0, 1, 1, 7, 50, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, }, {{0, 0, 1, 1, 0, 20, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, }, {{0, 0, 1, 1, 0, 3, }, {0, 0, 1, 1, 0, 3, }, {0, 0, 1, 1, 0, 3, }, {0, 0, 1, 1, 0, 3, }, {0, 0, 1, 1, 0, 3, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, }, {{0, 0, 1, 1, 0, 3, }, {0, 0, 1, 1, 0, 3, }, {0, 0, 1, 1, 0, 3, }, {0, 0, 1, 1, 0, 3, }, {0, 0, 1, 1, 0, 3, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, }, {{0, 0, 1, 1, 0, 3, }, {0, 0, 1, 1, 0, 3, }, {0, 0, 1, 1, 0, 3, }, {0, 0, 1, 1, 0, 3, }, {0, 0, 1, 1, 0, 3, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, }, {{0, 0, 1, 1, 0, 3, }, {0, 0, 1, 1, 0, 3, }, {0, 0, 1, 1, 0, 3, }, {0, 0, 1, 1, 0, 3, }, {0, 0, 1, 1, 0, 3, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, {0, 0, 0, 0, 0, 0, }, },
};
uint8_t PW_ID_Cnt = 100; //데이터 100개
uint8_t Power_Wave[7][4][100][2] = //mode 7개, 포트4개, 데이터 100개, 개별2byte
{
	{{{100, 0, }, {100, 3, }, {100, 3, }, {100, 3, }, {100, 3, }, {100, 3, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, }, {{100, 0, }, {100, 3, }, {100, 3, }, {100, 3, }, {100, 3, }, {100, 3, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, }, {{100, 0, }, {100, 3, }, {100, 3, }, {100, 3, }, {100, 3, }, {100, 3, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, }, {{100, 0, }, {100, 3, }, {100, 3, }, {100, 3, }, {100, 3, }, {100, 3, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, }, }, {{{100, 0, }, {100, 50, }, {100, 50, }, {100, 50, }, {100, 50, }, {100, 50, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, }, {{100, 0, }, {100, 50, }, {100, 50, }, {100, 50, }, {100, 50, }, {100, 50, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, }, {{100, 0, }, {100, 50, }, {100, 50, }, {100, 50, }, {100, 50, }, {100, 50, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, }, {{100, 0, }, {100, 50, }, {100, 50, }, {100, 50, }, {100, 50, }, {100, 50, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, }, }, {{{100, 5, }, {0, 5, }, {100, 5, }, {0, 5, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, }, {{100, 5, }, {0, 5, }, {100, 5, }, {0, 5, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, }, {{100, 5, }, {0, 5, }, {100, 5, }, {0, 5, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, }, {{100, 5, }, {0, 5, }, {100, 5, }, {0, 5, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, }, }, {{{100, 0, }, {100, 3, }, {100, 3, }, {100, 3, }, {100, 3, }, {100, 3, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, }, {{100, 0, }, {100, 3, }, {100, 3, }, {100, 3, }, {100, 3, }, {100, 3, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, }, {{100, 0, }, {100, 3, }, {100, 3, }, {100, 3, }, {100, 3, }, {100, 3, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, }, {{100, 0, }, {100, 3, }, {100, 3, }, {100, 3, }, {100, 3, }, {100, 3, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, }, }, {{{100, 0, }, {100, 3, }, {100, 3, }, {100, 3, }, {100, 3, }, {100, 3, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, }, {{100, 0, }, {100, 3, }, {100, 3, }, {100, 3, }, {100, 3, }, {100, 3, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, }, {{100, 0, }, {100, 3, }, {100, 3, }, {100, 3, }, {100, 3, }, {100, 3, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, }, {{100, 0, }, {100, 3, }, {100, 3, }, {100, 3, }, {100, 3, }, {100, 3, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, }, }, {{{100, 0, }, {100, 3, }, {100, 3, }, {100, 3, }, {100, 3, }, {100, 3, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, }, {{100, 0, }, {100, 3, }, {100, 3, }, {100, 3, }, {100, 3, }, {100, 3, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, }, {{100, 0, }, {100, 3, }, {100, 3, }, {100, 3, }, {100, 3, }, {100, 3, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, }, {{100, 0, }, {100, 3, }, {100, 3, }, {100, 3, }, {100, 3, }, {100, 3, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, }, }, {{{100, 0, }, {100, 3, }, {100, 3, }, {100, 3, }, {100, 3, }, {100, 3, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, }, {{100, 0, }, {100, 3, }, {100, 3, }, {100, 3, }, {100, 3, }, {100, 3, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, }, {{100, 0, }, {100, 3, }, {100, 3, }, {100, 3, }, {100, 3, }, {100, 3, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, }, {{100, 0, }, {100, 3, }, {100, 3, }, {100, 3, }, {100, 3, }, {100, 3, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, {0, 0, }, }, },
};

//-----------------------------------------------------------------------------
//ForExport
uint8_t *pUseModeCnt;
uint64_t *pWaveData[5];
uint64_t WaveDataSizeByte[5];	//sizeof():Byte
uint8_t WaveDataSizeArr[14];
//-----------------------------------------------------------------------------

//-----------------------------------------------------------------------------
uint16_t PT_NodeTime = 0;						//Node가 진행된 시간 (1unit=10*100usec=1msec)	//ModeTime_Copy
//-----------------------------------------------------------------------------
uint8_t PT_Freq_CategoryID[4] = { 0, 0, 0, 0 };	//t14_PB_ID
uint8_t PT_Freq_TimeLimitID = 0;				//t14_PF_ID
uint8_t PT_NodeNextIdx = 0;						//다음 사용될 Node의 배열값	//t14_PT_NextID
uint16_t PT_NodeTimeLimit = 0;					//Node가 유지되는 시간 (1unit=1msec)	//t14_PT_TimeLimit
//-----------------------------------------------------------------------------
uint8_t PT_Freq_ID = 0;							//t14_PD_NextID;
int32_t PT_Freq_TimeLimit = 0;					//t14_PB_TimeLimit;
uint8_t PT_Freq_Step = 0;						//t14_PD_Step;
//-----------------------------------------------------------------------------
uint8_t PT_WaveLvNow[4] = { 0, 0, 0, 0 };		//t14_PW_LvNow
FrqIOType RunTblBuf;


typedef enum
{
	POS_DEACTIVE = 0,
	POS_ACTIVE = 1,
	POS_CLEARACTIVE = 2,
	//POS_CLEARDEACTIVE = 3,
}PulseOutStat;

PulseOutStat PulseOutStatset = POS_ACTIVE;

/* Private user code ---------------------------------------------------------*/

//==============================================================================
//// PulseProcess
//------------------------------------------------------------------------------
#define CH1_PD1_Flag 0x80
#define CH1_PD2_Flag 0x40

#define CH2_PD1_Flag 0x80
#define CH2_PD2_Flag 0x40

// 젠틀맨 기본 셋팅
#define CH3_CH1_1_Flag 0x80
#define CH3_CH1_2_Flag 0x40
#define CH3_CH2_1_Flag 0x20
#define CH3_CH2_2_Flag 0x10
#define CH3_CH3_1_Flag 0x08
#define CH3_CH3_2_Flag 0x04
#define CH3_CH4_1_Flag 0x02
#define CH3_CH4_2_Flag 0x01

#define CH4_CH1_1_Flag 0x80
#define CH4_CH1_2_Flag 0x40
#define CH4_CH2_1_Flag 0x20
#define CH4_CH2_2_Flag 0x10
#define CH4_CH3_1_Flag 0x08
#define CH4_CH3_2_Flag 0x04
#define CH4_CH4_1_Flag 0x02
#define CH4_CH4_2_Flag 0x01

//// 젠틀맨 PCB 3호 전용 셋팅
//#define CH3_CH1_1_Flag 0x02
//#define CH3_CH1_2_Flag 0x01
//#define CH3_CH2_1_Flag 0x08
//#define CH3_CH2_2_Flag 0x04
//#define CH3_CH3_1_Flag 0x20
//#define CH3_CH3_2_Flag 0x10
//#define CH3_CH4_1_Flag 0x80
//#define CH3_CH4_2_Flag 0x40
//
//#define CH4_CH1_1_Flag 0x02
//#define CH4_CH1_2_Flag 0x01
//#define CH4_CH2_1_Flag 0x08
//#define CH4_CH2_2_Flag 0x04
//#define CH4_CH3_1_Flag 0x20
//#define CH4_CH3_2_Flag 0x10
//#define CH4_CH4_1_Flag 0x80
//#define CH4_CH4_2_Flag 0x40

#define CH1_P1_CTL1	RunTblBuf.CH1H1
#define CH1_P1_CTL2	RunTblBuf.CH1L1
#define CH1_P2_CTL1	RunTblBuf.CH1H2
#define CH1_P2_CTL2	RunTblBuf.CH1L2

#define CH2_P1_CTL1	RunTblBuf.CH2H1
#define CH2_P1_CTL2	RunTblBuf.CH2L1
#define CH2_P2_CTL1	RunTblBuf.CH2H2
#define CH2_P2_CTL2	RunTblBuf.CH2L2

#define CH3_P1_CTL1	RunTblBuf.CH3H1
#define CH3_P1_CTL2	RunTblBuf.CH3L1
#define CH3_P2_CTL1	RunTblBuf.CH3H2
#define CH3_P2_CTL2	RunTblBuf.CH3L2
#define CH3_P3_CTL1	RunTblBuf.CH3H3
#define CH3_P3_CTL2	RunTblBuf.CH3L3
#define CH3_P4_CTL1	RunTblBuf.CH3H4
#define CH3_P4_CTL2	RunTblBuf.CH3L4

#define CH4_P1_CTL1	RunTblBuf.CH4H1
#define CH4_P1_CTL2	RunTblBuf.CH4L1
#define CH4_P2_CTL1	RunTblBuf.CH4H2
#define CH4_P2_CTL2	RunTblBuf.CH4L2
#define CH4_P3_CTL1	RunTblBuf.CH4H3
#define CH4_P3_CTL2	RunTblBuf.CH4L3
#define CH4_P4_CTL1	RunTblBuf.CH4H4
#define CH4_P4_CTL2	RunTblBuf.CH4L4

#define PT_Freq_Step_Change 10

void wave_proc_update_PatternNode()
{
	//1msec단위로 호출이 필요하다

	// Power_Wave, Power_UserLv 관련 변수
	static uint8_t PT_WaveNextID[4] = { 0, 0, 0, 0 };		//t14_PW_NextID
	static uint16_t PT_WaveTimeLimit[4] = { 0, 0, 0, 0 };	//t14_PW_TimeLimit
	static uint16_t PT_WaveDuration[4] = { 0, 0, 0, 0 };	//Wave가 유지되는 시간 (1unit=1msec) //t14_PW_Duration
	static uint16_t PT_WaveTimeStart[4] = { 0, 0, 0, 0 };	//t14_PW_TimeStart
	static uint16_t PT_WaveDivider[4] = { 0, 0, 0, 0 };

	static uint8_t PT_WaveLvGoal[4] = { 0, 0, 0, 0 };		//t14_PW_LvGoal
	static int16_t PT_WaveLvGap[4] = { 0, 0, 0, 0 };		//t14_PW_LvGap

	// 0레벨시 프로세스 중단
	if (NowSetV.Lv == 0)return;

	// 시간 갱신
	++PT_NodeTime;


	/// Pattern_Time 프로세스
	// 선택된 모드[NowSetV.Mode]에 따라
	// 사용될 배열 위치[PT_NodeNextIdx]를 확인하고,
	// 어떤 패턴ID[PT_Freq_CategoryID]를 사용할지 지정하고,
	// 얼마나 유지[t14_PT_TimeLimit]한뒤 변경될지를 결정한다.
	if (PT_NodeTimeLimit <= PT_NodeTime)
	{
		// 지정된 시간이 지나 다음 데이터를 사용하도록 한다.

		// 다음 패턴 ID가 변경되는 시간을 갱신한다.
		// (시간이 0이상인 경우에만 적용이 되게 하며, 최대 PT_ID_Cnt(100)번만 확인한다.)
		uint8_t tmpTimeLimit = 0;
		for (; PT_NodeNextIdx < PT_ID_Cnt; ++PT_NodeNextIdx)
		{
			if (Pattern_Time[NowSetV.Mode][PT_NodeNextIdx][5] > 0)
			{
				tmpTimeLimit = Pattern_Time[NowSetV.Mode][PT_NodeNextIdx][5];
				break;
			}
		}

		if (PT_NodeNextIdx >= PT_ID_Cnt)
		{
			// 마지막인 경우 배열 처음에서부터 다시 시작
			PT_NodeNextIdx = 0;
			tmpTimeLimit = Pattern_Time[NowSetV.Mode][PT_NodeNextIdx][5];
		}


		if (PT_NodeNextIdx == 0)
		{
			// 첫번째 배열인 경우
			// 시간 초기화(=모드 처음부터 다시 시작)
			PT_NodeTime = 0;
			PT_NodeTimeLimit = 0;

			for (uint8_t ch = 0; ch < 4; ++ch)
			{
				PT_WaveTimeLimit[ch] = 0;
				PT_WaveNextID[ch] = 0;
			}
		}

		PT_NodeTimeLimit += tmpTimeLimit * 100;

		// 사용할 패턴 ID를 지정 및 초기화 한다.
		{
			//PatternOutQueueChange();
			{
				PT_Freq_Step = PT_Freq_Step_Change;
			}

			PT_Freq_CategoryID[0] = Pattern_Time[NowSetV.Mode][PT_NodeNextIdx][0];
			PT_Freq_CategoryID[1] = Pattern_Time[NowSetV.Mode][PT_NodeNextIdx][1];
			PT_Freq_CategoryID[2] = Pattern_Time[NowSetV.Mode][PT_NodeNextIdx][2];
			PT_Freq_CategoryID[3] = Pattern_Time[NowSetV.Mode][PT_NodeNextIdx][3];
			PT_Freq_TimeLimitID = Pattern_Time[NowSetV.Mode][PT_NodeNextIdx][4];
		}

		// 출력전압과 버퍼데이터를 초기화 한다.
		{
			//출력 전압 정지
			memset(&PT_WaveLvNow, 0, sizeof(PT_WaveLvNow));

			// 버퍼 비우기
			FrqOutData_setEmpty();

			// 버퍼 채우기
			wave_proc_update_PatternOutQueue();
		}

		// 다음 사용될 패턴 타임 ID 갱신
		++PT_NodeNextIdx;
		if (PT_NodeNextIdx >= PT_ID_Cnt)
		{
			PT_NodeNextIdx = 0;
		}
	}



	/// Power_Wave 프로세스
	// 선택된 모드[NowSetV.Mode]에 따라
	// 모든 채널[Ch = max 4] 각각의
	// 사용될 배열 위치[PT_WaveNextID[4]]를 확인하고,
	// 이에 따른 전압을 계산[mPowerLv_Wave[4]]하여 반영하며,
	// 얼마나 유지[PT_WaveTimeLimit]한뒤 변경될지를 결정한다.
	{
		for (uint8_t ch = 0; ch < 4; ++ch)
		{
			if (PT_WaveTimeLimit[ch] <= PT_NodeTime)
			{
				// 지정된 시간이 지나 다음 데이터를 사용하도록 한다.

				// 다음 웨이브 ID가 변경되는 시간을 갱신한다.
				// (시간이 0이상인 경우에만 적용이 되게 하며, 최대 PW_ID_Cnt(100)번만 확인한다.)
				uint8_t tmpTimeLimit = 0;
				for (; PT_WaveNextID[ch] < PW_ID_Cnt; ++PT_WaveNextID[ch])
				{
					tmpTimeLimit = Power_Wave[NowSetV.Mode][ch][PT_WaveNextID[ch]][1];

					if (tmpTimeLimit > 0)
					{
						break;
					}
				}

				if (PT_WaveNextID[ch] >= PW_ID_Cnt)
				{
					// 마지막인 경우 배열 처음에서부터 다시 시작
					PT_WaveNextID[ch] = 0;
					tmpTimeLimit = Power_Wave[NowSetV.Mode][ch][PT_WaveNextID[ch]][1];
				}


				PT_WaveTimeLimit[ch] += tmpTimeLimit * 100;

				// 지정된 웨이브 Data를 통해 전압 관련 변수들을 초기화 한다.
				{
					// 시작 전압 갱신
					uint8_t tmpWaveLvStart = 0;
					if (PT_WaveNextID[ch] == 0)
					{
						//첫번째 배열인 경우,
						//전압을 0으로 초기화
						tmpWaveLvStart = 0;

					}
					else
					{
						//그 외에는 이전 데이터에서 이전값을 불러온다.
						tmpWaveLvStart = Power_Wave[NowSetV.Mode][ch][PT_WaveNextID[ch] - 1][0];
					}

					// 목표 전압 갱신
					PT_WaveLvGoal[ch] = Power_Wave[NowSetV.Mode][ch][PT_WaveNextID[ch]][0];

					// 시작 - 목표 사이 전압 갱신
					PT_WaveLvGap[ch] = PT_WaveLvGoal[ch] - tmpWaveLvStart;

					// 전체 시간 갱신
					if (tmpTimeLimit > 0)
					{
						PT_WaveDuration[ch] = tmpTimeLimit * 100;	//Min 1 ~ 1000;
						PT_WaveDivider[ch] = (uint16_t)((100.f / PT_WaveDuration[ch]) * 65536);	// 100 * x * 2^16
					}
					else
					{
						// 0일때의 예외처리
						PT_WaveDuration[ch] = 1;
						PT_WaveDivider[ch] = 65535;
					}

					// 시작 시간 갱신
					PT_WaveTimeStart[ch] = PT_NodeTime;
				}


				// 다음 사용될 웨이브 ID 갱신
				++PT_WaveNextID[ch];
				if (PT_WaveNextID[ch] >= PW_ID_Cnt)
				{
					PT_WaveNextID[ch] = 0;
				}
			}

			{
				// 매 루프마다 현재 어떤 전압으로 유지되어야 할지 갱신한다.
				// 유저가 설정한 전압레벨과 ADC용 기준값 또한 적용한다.


				//TestDivider1 = (uint32_t)((1.f / TestDivider2) * 65536);
				//TestDividerResult1 = (uint16_t)((100 * TestDividerResult2 * TestDivider1) >> 16);

				//float tmpTimeintervalRate = 1.f - (float)(PT_NodeTime - PT_WaveTimeStart[ch]) / (float)PT_WaveDuration[ch];
				float tmpTimeintervalRate = 1.f - ((((PT_NodeTime - PT_WaveTimeStart[ch]) * PT_WaveDivider[ch]) >> 16) * 0.01f);
				if (tmpTimeintervalRate < 0.f)
				{
					tmpTimeintervalRate = 0.f;
				}
				else if (tmpTimeintervalRate > 1.f)
				{
					tmpTimeintervalRate = 1.f;
				}

				

				uint8_t tmpLv = (uint8_t)
					(((float)PT_WaveLvGoal[ch] - ((float)PT_WaveLvGap[ch] * tmpTimeintervalRate))	//Wave 전압값
						* Power_UserLv[NowSetV.Mode][ch][NowSetV.Lv]);	//유저선택 전압% 값

				// 예외처리
				if (tmpLv > 130)
					tmpLv = 130;

				PT_WaveLvNow[ch] = tmpLv;
			}
		}
	}

}

void PatternDischarge(uint8_t Ch)
{
	switch (Ch)
	{
	case 1:
	{
		//Ch_1 Low & Discharge
		CH1_P1_CTL2 = 0;
		CH1_P2_CTL2 = 0;

		//Ch_1_1
		if (CH1_P1_CTL1 == 1)
		{
			CH1_P1_CTL1 = 0;
			CH1_P1_CTL2 = 1;
		}

		//Ch_1_2
		if (CH1_P2_CTL1 == 1)
		{
			CH1_P2_CTL1 = 0;
			CH1_P2_CTL2 = 1;
		}

		break;	//switch exit
	}

	case 2:
	{
		//Ch_2 Low & Discharge
		CH2_P1_CTL2 = 0;
		CH2_P2_CTL2 = 0;

		//Ch_1_1
		if (CH2_P1_CTL1 == 1)
		{
			CH2_P1_CTL1 = 0;
			CH2_P1_CTL2 = 1;
		}

		//Ch_1_2
		if (CH2_P2_CTL1 == 1)
		{
			CH2_P2_CTL1 = 0;
			CH2_P2_CTL2 = 1;
		}

		break;	//switch exit
	}

	case 3:
	{
		//Ch_3 Low & Discharge
		CH3_P1_CTL2 = 0;
		CH3_P2_CTL2 = 0;
		CH3_P3_CTL2 = 0;
		CH3_P4_CTL2 = 0;

		//Ch_3_1
		if (CH3_P1_CTL1 == 1)
		{
			CH3_P1_CTL1 = 0;
			CH3_P1_CTL2 = 1;
		}

		//Ch_3_2
		if (CH3_P2_CTL1 == 1)
		{
			CH3_P2_CTL1 = 0;
			CH3_P2_CTL2 = 1;
		}

		//Ch_3_3
		if (CH3_P3_CTL1 == 1)
		{
			CH3_P3_CTL1 = 0;
			CH3_P3_CTL2 = 1;
		}

		//Ch_3_4
		if (CH3_P4_CTL1 == 1)
		{
			CH3_P4_CTL1 = 0;
			CH3_P4_CTL2 = 1;
		}

		break;	//switch exit
	}

	case 4:
	{
		//Ch_4 Low & Discharge
		CH4_P1_CTL2 = 0;
		CH4_P2_CTL2 = 0;
		CH4_P3_CTL2 = 0;
		CH4_P4_CTL2 = 0;

		//Ch_4_1
		if (CH4_P1_CTL1 == 1)
		{
			CH4_P1_CTL1 = 0;
			CH4_P1_CTL2 = 1;
		}

		//Ch_4_2
		if (CH4_P2_CTL1 == 1)
		{
			CH4_P2_CTL1 = 0;
			CH4_P2_CTL2 = 1;
		}

		//Ch_4_3
		if (CH4_P3_CTL1 == 1)
		{
			CH4_P3_CTL1 = 0;
			CH4_P3_CTL2 = 1;
		}

		//Ch_4_4
		if (CH4_P4_CTL1 == 1)
		{
			CH4_P4_CTL1 = 0;
			CH4_P4_CTL2 = 1;
		}

		break;	//switch exit
	}

	default:
		break;
	}
}

void wave_proc_update_PatternOutQueue()
{
	//50usec단위로 호출이 필요하다

	static uint8_t tmpPinSetValue = 0x00;				//pPattern_Base_Data
	static const uint8_t PT_PinRecoverDelay = 1;		// PinOff후 딜레이(1unit=50usec) //t14_PD_RecoverDelay



	if (NowSetV.Lv == 0)								// 0레벨시 프로세스 중단
		return;

	while (FrqOutData_IsNotFull())						// 50uS주기로 버퍼를 가지고 간다. 최대 255개의 명령을 적재하므로 12.7mS이내에는 이 함수로 들어와야 한다.
	{

		--PT_Freq_TimeLimit;
		if (PT_Freq_TimeLimit < 1)
		{
			// 지정된 시간이 지나 핀 상태 및 유지시간을 갱신한다.
			switch (PT_Freq_Step)
			{

			case 0:
			{
				// 이번 패턴 Data가 유지되는 시간을 갱신한다.
				// (시간이 0이상인 경우에만 적용이 되게 하며, 최대 PB_Data_Cnt(20)번만 확인한다.)
				for (; PT_Freq_ID < PB_Data_Cnt; ++PT_Freq_ID)
				{
					PT_Freq_TimeLimit = Pattern_Freq[PT_Freq_TimeLimitID][PT_Freq_ID];

					if (PT_Freq_TimeLimit > 0)
					{
						break;	//for exit
					}
				}

				if (PT_Freq_ID >= PB_Data_Cnt)
				{
					// 마지막인 경우 배열 처음에서부터 다시 시작
					PT_Freq_ID = 0;
					PT_Freq_TimeLimit = Pattern_Freq[PT_Freq_TimeLimitID][PT_Freq_ID];
				}

				// High필요한 핀이 없는 경우 다음으로 넘어간다.
				if (Pattern_Base[PT_Freq_CategoryID[0]][PT_Freq_ID] == 0 &&
					Pattern_Base[PT_Freq_CategoryID[1]][PT_Freq_ID] == 0 &&
					Pattern_Base[PT_Freq_CategoryID[2]][PT_Freq_ID] == 0 &&
					Pattern_Base[PT_Freq_CategoryID[3]][PT_Freq_ID] == 0)
				{
					RunTblBuf.FrqIO32Data = 0;

					// 다음 사용될 패턴 데이터 ID 갱신
					++PT_Freq_ID;
					if (PT_Freq_ID >= PB_Data_Cnt)
					{
						PT_Freq_ID = 0;
					}
					break;	//switch exit
				}

				++PT_Freq_Step;
				// no break. continue case 1
			}


			case 1:
			{
				//Ch_1 High
				RunTblBuf.FrqIO32Data = 0;

				tmpPinSetValue = Pattern_Base[PT_Freq_CategoryID[0]][PT_Freq_ID];
				if ((tmpPinSetValue & CH1_PD1_Flag) != 0x00)
				{
					CH1_P1_CTL1 = 1;
					CH1_P2_CTL2 = 1;
				}
				else if ((tmpPinSetValue & CH1_PD2_Flag) != 0x00)
				{
					CH1_P2_CTL1 = 1;
					CH1_P1_CTL2 = 1;
				}

				++PT_Freq_Step;
				PT_Freq_TimeLimit = Pattern_Freq[PT_Freq_TimeLimitID][PT_Freq_ID];
				break;	//switch exit
			}

			case 2:
			{
				//Ch_1 Low & Discharge
				PatternDischarge(1);

				++PT_Freq_Step;
				PT_Freq_TimeLimit = PT_PinRecoverDelay;
				break;	//switch exit
			}

			case 3:
			{
				//Ch_2 High
				RunTblBuf.FrqIO32Data = 0;

				tmpPinSetValue = Pattern_Base[PT_Freq_CategoryID[1]][PT_Freq_ID];
				if ((tmpPinSetValue & CH2_PD1_Flag) != 0x00)
				{
					CH2_P1_CTL1 = 1;
					CH2_P2_CTL2 = 1;
				}
				else if ((tmpPinSetValue & CH2_PD2_Flag) != 0x00)
				{
					CH2_P2_CTL1 = 1;
					CH2_P1_CTL2 = 1;
				}

				++PT_Freq_Step;
				PT_Freq_TimeLimit = Pattern_Freq[PT_Freq_TimeLimitID][PT_Freq_ID];
				break;	//switch exit
			}

			case 4:
			{
				//Ch_2 Low & Discharge
				PatternDischarge(2);

				++PT_Freq_Step;
				PT_Freq_TimeLimit = PT_PinRecoverDelay;
				break;	//switch exit
			}

			case 5:
			{
				//Ch_3 High
				RunTblBuf.FrqIO32Data = 0;

				tmpPinSetValue = Pattern_Base[PT_Freq_CategoryID[2]][PT_Freq_ID];

				//Ch_3_1
				if ((tmpPinSetValue & CH3_CH1_1_Flag) != 0x00)
				{
					CH3_P1_CTL1 = 1;
				}
				else if ((tmpPinSetValue & CH3_CH1_2_Flag) != 0x00)
				{
					CH3_P1_CTL2 = 1;
				}

				//Ch_3_2
				if ((tmpPinSetValue & CH3_CH2_1_Flag) != 0x00)
				{
					CH3_P2_CTL1 = 1;
				}
				else if ((tmpPinSetValue & CH3_CH2_2_Flag) != 0x00)
				{
					CH3_P2_CTL2 = 1;
				}

				//Ch_3_3
				if ((tmpPinSetValue & CH3_CH3_1_Flag) != 0x00)
				{
					CH3_P3_CTL1 = 1;
				}
				else if ((tmpPinSetValue & CH3_CH3_2_Flag) != 0x00)
				{
					CH3_P3_CTL2 = 1;
				}

				//Ch_3_4
				if ((tmpPinSetValue & CH3_CH4_1_Flag) != 0x00)
				{
					CH3_P4_CTL1 = 1;
				}
				else if ((tmpPinSetValue & CH3_CH4_2_Flag) != 0x00)
				{
					CH3_P4_CTL2 = 1;
				}

				++PT_Freq_Step;
				PT_Freq_TimeLimit = Pattern_Freq[PT_Freq_TimeLimitID][PT_Freq_ID];
				break;	//switch exit
			}

			case 6:
			{
				//Ch_3 Low & Discharge
				PatternDischarge(3);

				++PT_Freq_Step;
				PT_Freq_TimeLimit = PT_PinRecoverDelay;
				break;	//switch exit
			}

			case 7:
			{
				//Ch_4 High
				RunTblBuf.FrqIO32Data = 0;

				//Ch_4_1
				if ((tmpPinSetValue & CH4_CH1_1_Flag) != 0x00)
				{
					CH4_P1_CTL1 = 1;
				}
				else if ((tmpPinSetValue & CH4_CH1_2_Flag) != 0x00)
				{
					CH4_P1_CTL2 = 1;
				}

				//Ch_4_2
				if ((tmpPinSetValue & CH4_CH2_1_Flag) != 0x00)
				{
					CH4_P2_CTL1 = 1;
				}
				else if ((tmpPinSetValue & CH4_CH2_2_Flag) != 0x00)
				{
					CH4_P2_CTL2 = 1;
				}

				//Ch_4_3
				if ((tmpPinSetValue & CH4_CH3_1_Flag) != 0x00)
				{
					CH4_P3_CTL1 = 1;
				}
				else if ((tmpPinSetValue & CH4_CH3_2_Flag) != 0x00)
				{
					CH4_P3_CTL2 = 1;
				}

				//Ch_4_4
				if ((tmpPinSetValue & CH4_CH4_1_Flag) != 0x00)
				{
					CH4_P4_CTL1 = 1;
				}
				else if ((tmpPinSetValue & CH4_CH4_2_Flag) != 0x00)
				{
					CH4_P4_CTL2 = 1;
				}

				++PT_Freq_Step;
				PT_Freq_TimeLimit = Pattern_Freq[PT_Freq_TimeLimitID][PT_Freq_ID];
				break;	//switch exit
			}

			case 8:
			{
				//Ch_4 Low & Discharge
				PatternDischarge(4);

				++PT_Freq_Step;
				PT_Freq_TimeLimit = PT_PinRecoverDelay;
				// no break. continue case 9
			}

			case 9:
			{
				// 다음 사용될 패턴 데이터 ID 갱신
				++PT_Freq_ID;
				if (PT_Freq_ID >= PB_Data_Cnt)
				{
					PT_Freq_ID = 0;
				}

				PT_Freq_Step = 0;
				break;	//switch exit
			}

			case PT_Freq_Step_Change:
			{
				//PatternChange

				PatternDischarge(1);
				PatternDischarge(2);
				PatternDischarge(3);
				PatternDischarge(4);

				++PT_Freq_Step;
				PT_Freq_TimeLimit = PT_PinRecoverDelay;
			}

			case PT_Freq_Step_Change + 1:
			{
				//PatternChange
				RunTblBuf.FrqIO32Data = 0;

				PT_Freq_Step = 0;
				PT_Freq_TimeLimit = PT_PinRecoverDelay;
			}

			default: //Err
			{
				break;
			}

			}

		}

		// PT_Freq_ID시간동안
		// OutPinSetting 설정상태를 유지
		FrqOutData_Push(RunTblBuf);		// 실제 패턴을 출력한다. ( 50uS 단위 임 )
	}
}


//==============================================================================
//// FrqOut Ringbuf Data Fuction
//------------------------------------------------------------------------------
#define FRQIORB_RAWDATACNT 256
uint8_t FrqOutrb_mask = FRQIORB_RAWDATACNT - 1;
uint8_t FrqOutrb_push_ptr, FrqOutrb_pop_ptr = 0;
FrqIOType FrqOutrb_raw[FRQIORB_RAWDATACNT];

void FrqOutData_setEmpty()
{
	PulseOutStatset = POS_DEACTIVE;
	FrqOutrb_pop_ptr = FrqOutrb_push_ptr;
	PulseOutStatset = POS_CLEARACTIVE;
}

bool FrqOutData_IsNotFull()
{
	if (((FrqOutrb_push_ptr - FrqOutrb_pop_ptr) & FrqOutrb_mask) == FrqOutrb_mask)
		return false;
	return true;
}

void FrqOutData_Push(FrqIOType pushData)
{
	FrqOutrb_raw[FrqOutrb_push_ptr] = pushData;
	FrqOutrb_push_ptr = (FrqOutrb_push_ptr + 1) & FrqOutrb_mask;
}

uint8_t FrqOutData_GetCnt()
{
	return (FrqOutrb_push_ptr - FrqOutrb_pop_ptr) & FrqOutrb_mask;
}

FrqIOType FrqOutData_Pop()
{
	FrqIOType popData;

	popData = FrqOutrb_raw[FrqOutrb_pop_ptr];
	FrqOutrb_pop_ptr = (FrqOutrb_pop_ptr + 1) & FrqOutrb_mask;
	return popData;
}


//==============================================================================
//// ADC PWM Control & Frq Out Control
//------------------------------------------------------------------------------

uint64_t TIM_CHANNEL[] = { TIM_CHANNEL_1,TIM_CHANNEL_2,TIM_CHANNEL_3,TIM_CHANNEL_4, };

#define ADC_CH_CNT 5
uint16_t adcVal[ADC_CH_CNT] = { 0, };
uint16_t vol[4] = { 0, };

uint16_t SetCCR[4] = { 0, };
uint8_t SetCCRContinue[4] = { 0, };
uint16_t MaxSetCCR[4] = { 0, };


void FrqVoltPWM_Init(ADC_HandleTypeDef* Set_Frq_hadc, DMA_HandleTypeDef* Set_Frq_hdma_adc, TIM_HandleTypeDef* set_PWM_htim)
{
	Frq_hadc = Set_Frq_hadc;
	Frq_hdma_adc = Set_Frq_hdma_adc;
	PWM_htim = set_PWM_htim;

	memset(&adcVal, 0, sizeof(adcVal));
	memset(&vol, 0, sizeof(vol));

	//PWM 시작
	for (uint8_t i = 0; i < 4; ++i)
	{
		__HAL_TIM_SET_COMPARE(PWM_htim, TIM_CHANNEL[i], 0);
		HAL_TIM_PWM_Start(PWM_htim, TIM_CHANNEL[i]);
		//HAL_TIM_PWM_Stop(PWM_htim, TIM_CHANNEL[i]);
	}

	//ADC_DMA 인터럽트 설정 및 시작
	HAL_ADC_Start_DMA(Frq_hadc, (uint32_t*)adcVal, ADC_CH_CNT);
}

//void FreqVoltPWM_Stop()
//{
//	//ADC_DMA 정지
//	HAL_ADC_Stop_DMA(Frq_hadc);
//
//	memset(&adcVal, 0, sizeof(adcVal));
//	memset(&vol, 0, sizeof(vol));
//}

void HAL_ADC_ConvCpltCallback(ADC_HandleTypeDef* hadc)
{
	// ADC 루틴이 1개뿐이므로 검사 생략
	//if (hadc != Frq_hadc)
	//	return;

	FrqVoltPWM_Update();
	PulseOut_Update();
}

void FrqVoltPWM_Update()
{
	//50usec 주기의 ADC 확인 이후 호출이 필요하다
	//ADC 값을 확인하여 PWM을 변경한다.

	static uint8_t i = 0;

	// ADC 값을 Voltage로 변경
	for (i = 1; i < ADC_CH_CNT; ++i)
	{
		//adcVal[0]은 GND값
		if (adcVal[i] > adcVal[0])
		{
			//ADC 측정값을 ADC전압값으로 변경
			//uint8_t adcvol = (adcVal[i] - adcVal[0]) * 3600 / 4096;
			//ADC 전압값을 출력 Voltage로 변경
			// R1:300K, R2:8.2K
			//vol[i] = adcvol * (((300 + 8.2) / 8.2) / 1000);

			//최적화
			// x * ((3600 / 4096) * ((300 + 8.2) / 8.2)) /1000
			// = (x * 2165) / 2^16
			// = (x * 2165) >> 16

			vol[i - 1] = ((adcVal[i] - adcVal[0]) * 2165) >> 16;

			// 현재는 V단위로 값 측정(/1000)
			// 추후 mV단위로 변경하자(ex. /10)
		}
		else
		{
			vol[i - 1] = 0;
		}
	}

#ifdef TEST_NO_VOUT
	return;
#endif // TEST_NO_VOUT

	// Voltage값을 확인하여 PWM을 On/Off
	for (i = 0; i < 4; ++i)
	{
		if (vol[i] < PT_WaveLvNow[i])
		{
			static uint16_t tmpCCR = 0;
			static uint16_t volGap = 0; 

			tmpCCR = 1;

			//출력할 전압이 높을 수록 Duty 증가 (32 * 0~3)
			if (PT_WaveLvNow[i] > 48)
			{
				tmpCCR += 3;
			}
			else
			{
				//SetCCR += PT_WaveLvNow[i] / 48 * 3;
				// /96 * 3 = /16 = /(2^4)
				tmpCCR += PT_WaveLvNow[i] >> 4;
			}

			//현재 전압과의 차이가 날 수록 Duty 증가 (32 * 0~16)
			volGap = PT_WaveLvNow[i] - vol[i];
			if (volGap > 128)
			{
				tmpCCR += 16;
			}
			else
			{
				//volGap[i] / 128 * 16;
				// /128 * 16 = /8 = /(2^3)
				tmpCCR += volGap >> 3;
			}

			//PWM 출력이 연속될 수록 Duty 증가 (32 * 0~20)
			if (SetCCR[i] != 0)
			{
				tmpCCR += (SetCCRContinue[i] << 1);
				
				if(SetCCRContinue[i] < 20)
					++SetCCRContinue[i];
			}
			else
			{
				SetCCRContinue[i] = 0;
			}

			//tmpCCR *= 32
			tmpCCR = tmpCCR << 5;

			// 0~640 / 1024 = (32 * 0~20) / (32 * 32) = MaxDutyRate 62.5%
			if (tmpCCR > 640)
				tmpCCR = 640;

			//PWM On
			SetCCR[i] = tmpCCR;
		}
		else
		{
			//PWM Off
			SetCCR[i] = 0;
		}

		__HAL_TIM_SET_COMPARE(PWM_htim, TIM_CHANNEL[i], SetCCR[i]);
	}
}


GPIO_TypeDef * PulseTR_GPIO_Ports[24] =
{
	CH1_1_1_GPIO_Port,
	CH1_1_2_GPIO_Port,
	CH1_2_1_GPIO_Port,
	CH1_2_2_GPIO_Port,
	CH2_1_1_GPIO_Port,
	CH2_1_2_GPIO_Port,
	CH2_2_1_GPIO_Port,
	CH2_2_2_GPIO_Port,
	CH3_1_1_GPIO_Port,
	CH3_1_2_GPIO_Port,
	CH3_2_1_GPIO_Port,
	CH3_2_2_GPIO_Port,
	CH3_3_1_GPIO_Port,
	CH3_3_2_GPIO_Port,
	CH3_4_1_GPIO_Port,
	CH3_4_2_GPIO_Port,
	CH4_1_1_GPIO_Port,
	CH4_1_2_GPIO_Port,
	CH4_2_1_GPIO_Port,
	CH4_2_2_GPIO_Port,
	CH4_3_1_GPIO_Port,
	CH4_3_2_GPIO_Port,
	CH4_4_1_GPIO_Port,
	CH4_4_2_GPIO_Port,
};

uint16_t  PulseTR_Pins[24] =
{
	CH1_1_1_Pin,
	CH1_1_2_Pin,
	CH1_2_1_Pin,
	CH1_2_2_Pin,
	CH2_1_1_Pin,
	CH2_1_2_Pin,
	CH2_2_1_Pin,
	CH2_2_2_Pin,
	CH3_1_1_Pin,
	CH3_1_2_Pin,
	CH3_2_1_Pin,
	CH3_2_2_Pin,
	CH3_3_1_Pin,
	CH3_3_2_Pin,
	CH3_4_1_Pin,
	CH3_4_2_Pin,
	CH4_1_1_Pin,
	CH4_1_2_Pin,
	CH4_2_1_Pin,
	CH4_2_2_Pin,
	CH4_3_1_Pin,
	CH4_3_2_Pin,
	CH4_4_1_Pin,
	CH4_4_2_Pin,
};

void PulseOut_Update()
{
	//50usec 주기의 호출이 필요하다
	//출력 버퍼 데이터를 확인하여 펄스를 내보낸다.

	static uint8_t i = 0;
	static uint32_t outData = 0;
	static uint32_t outDataPrev = 0;
	static uint32_t outDatatmp = 0;

#ifdef TEST_NO_PULSEOUT
	return;
#endif // TEST_NO_PULSEOUT

	if (PulseOutStatset == POS_ACTIVE)
	{
		// 버퍼가 없다면 정지한다.
		if (!FrqOutData_GetCnt())
		{
			if (!outDataPrev)
			{
				// 모든 펄스 TR을 Off 시킨다.
				for (i = 0; i < 24; ++i)
				{
					HAL_GPIO_WritePin(PulseTR_GPIO_Ports[i], PulseTR_Pins[i], GPIO_PIN_RESET);
				}
				outDataPrev = 0;
			}
			return;
		}

		outData = outDatatmp = FrqOutData_Pop().FrqIO32Data;

		// 지정된 TR을 On / 기존에 On되었던 TR을 Off
		if (outData || outDataPrev)
		{
			for (i = 0; i < 24; ++i)
			{

				if (outData & 1)
				{
					HAL_GPIO_WritePin(PulseTR_GPIO_Ports[i], PulseTR_Pins[i], GPIO_PIN_SET);
				}
				else if (outDataPrev & 1)
				{
					HAL_GPIO_WritePin(PulseTR_GPIO_Ports[i], PulseTR_Pins[i], GPIO_PIN_RESET);
				}
					
				outDataPrev = outDataPrev >> 1;
				outData = outData >> 1;
			}
		}

		outDataPrev = outDatatmp;
	}
	else if (PulseOutStatset == POS_CLEARACTIVE)
	{
		PulseOutStatset = POS_ACTIVE;

		// 모든 펄스 TR을 Off 시킨다.
		for (i = 0; i < 24; ++i)
		{
			HAL_GPIO_WritePin(PulseTR_GPIO_Ports[i], PulseTR_Pins[i], GPIO_PIN_RESET);
		}
		outDataPrev = 0;
		return;
	}

}

//==============================================================================
//// Control mode part
//------------------------------------------------------------------------------



#define MAXLV 14
#define AUTONEXTTIME 119	// 120sec - 1
#define AUTOOFFTIME 839		// 840sec - 1
#define MODELASTID 6		// 7개모드 - 1

void wave_proc_Init(ADC_HandleTypeDef* Set_Frq_hadc, DMA_HandleTypeDef* Set_Frq_hdma_adc, TIM_HandleTypeDef* set_PWM_htim)
{
	{
		pUseModeCnt = &UseModeCnt;
		pWaveData[0] = (uint64_t *)Power_UserLv;
		pWaveData[1] = (uint64_t *)Pattern_Base;
		pWaveData[2] = (uint64_t *)Pattern_Freq;
		pWaveData[3] = (uint64_t *)Pattern_Time;
		pWaveData[4] = (uint64_t *)Power_Wave;

		WaveDataSizeByte[0] = sizeof(Power_UserLv);
		WaveDataSizeByte[1] = sizeof(Pattern_Base);
		WaveDataSizeByte[2] = sizeof(Pattern_Freq);
		WaveDataSizeByte[3] = sizeof(Pattern_Time);
		WaveDataSizeByte[4] = sizeof(Power_Wave);

		int tmpSize[5];

		//Power_UserLv
		tmpSize[0] = sizeof(Power_UserLv);
		tmpSize[1] = sizeof(Power_UserLv[0]);
		tmpSize[2] = sizeof(Power_UserLv[0][0]);
		tmpSize[3] = sizeof(Power_UserLv[0][0][0]);
		WaveDataSizeArr[0] = (uint8_t)(tmpSize[0] / tmpSize[1]);
		WaveDataSizeArr[1] = (uint8_t)(tmpSize[1] / tmpSize[2]);
		WaveDataSizeArr[2] = (uint8_t)(tmpSize[2] / tmpSize[3]);

		//Pattern_Base
		tmpSize[0] = sizeof(Pattern_Base);
		tmpSize[1] = sizeof(Pattern_Base[0]);
		tmpSize[2] = sizeof(Pattern_Base[0][0]);
		WaveDataSizeArr[3] = (uint8_t)(tmpSize[0] / tmpSize[1]);
		WaveDataSizeArr[4] = (uint8_t)(tmpSize[1] / tmpSize[2]);

		//Pattern_Freq
		tmpSize[0] = sizeof(Pattern_Freq);
		tmpSize[1] = sizeof(Pattern_Freq[0]);
		tmpSize[2] = sizeof(Pattern_Freq[0][0]);
		WaveDataSizeArr[5] = (uint8_t)(tmpSize[0] / tmpSize[1]);
		WaveDataSizeArr[6] = (uint8_t)(tmpSize[1] / tmpSize[2]);

		//Pattern_Time
		tmpSize[0] = sizeof(Pattern_Time);
		tmpSize[1] = sizeof(Pattern_Time[0]);
		tmpSize[2] = sizeof(Pattern_Time[0][0]);
		tmpSize[3] = sizeof(Pattern_Time[0][0][0]);
		WaveDataSizeArr[7] = (uint8_t)(tmpSize[0] / tmpSize[1]);
		WaveDataSizeArr[8] = (uint8_t)(tmpSize[1] / tmpSize[2]);
		WaveDataSizeArr[9] = (uint8_t)(tmpSize[2] / tmpSize[3]);

		//Power_Wave
		tmpSize[0] = sizeof(Power_Wave);
		tmpSize[1] = sizeof(Power_Wave[0]);
		tmpSize[2] = sizeof(Power_Wave[0][0]);
		tmpSize[3] = sizeof(Power_Wave[0][0][0]);
		tmpSize[4] = sizeof(Power_Wave[0][0][0][0]);
		WaveDataSizeArr[10] = (uint8_t)(tmpSize[0] / tmpSize[1]);
		WaveDataSizeArr[11] = (uint8_t)(tmpSize[1] / tmpSize[2]);
		WaveDataSizeArr[12] = (uint8_t)(tmpSize[2] / tmpSize[3]);
		WaveDataSizeArr[13] = (uint8_t)(tmpSize[3] / tmpSize[4]);

		wave_overwrite_SetCheck();
		wave_uart_init();
	}

	NowSetV.Mode = 0;
	NowSetV.MainPower = 1;
	NowSetV.AutoNext = true;
	NowSetV.AutoOff = true;
	NowSetV.MuteMode = false;
	NowSetV.AutoOffTimer = 0;

	// Test용
	//PatternSetTestMode();	// TestMode 세팅

	wave_proc_SetStopBase();

	led_SetLevel(NowSetV.Lv);
	led_SetRGBGradationOn(true);

	FrqVoltPWM_Init(Set_Frq_hadc, Set_Frq_hdma_adc, set_PWM_htim);


	// Test용
	NowSetV.AutoNext = false;
	NowSetV.AutoOff = false;
}

void wave_proc_update_main()
{
	//50usec단위로 호출이 필요하다

	wave_proc_update_PatternOutQueue();
	wave_uart_Update();
}

void wave_proc_update_OptionSys()
{
	//1sec단위로 호출이 필요하다
	if (NowSetV.Lv)
	{
		// 자동 다음 모드 체크
		if (NowSetV.AutoNext)
		{
			++NowSetV.AutoNextTimer;
			if (NowSetV.AutoNextTimer > AUTONEXTTIME)
			{
				NowSetV.AutoNextTimer = 0;
				wave_proc_SetModeUp();
			}
		}

		// 자동 종료 모드 확인
		if (NowSetV.AutoOff)
		{
			++NowSetV.AutoOffTimer;
			if (NowSetV.AutoOffTimer > AUTOOFFTIME)
			{
				NowSetV.AutoOffTimer = 0;
				wave_proc_SetStop();
			}
		}
	}
}

void wave_proc_SetStop()
{
	wave_proc_SetStopBase();

	led_SetLevel(NowSetV.Lv);
	led_SetRGBGradationOn(true);

	SoundPlayCheckMute(3);						// 동작을 정지합니다.	
}

void wave_proc_SetStopBase()
{
	NowSetV.Lv = 0;
	//PatternNodeInit();
	{
		PT_NodeTime = 0;
		PT_NodeNextIdx = 0;
		PT_NodeTimeLimit = 0;

		memset(&PT_WaveLvNow, 0, sizeof(PT_WaveLvNow));
	}

	//PatternOutQueueInit();
	{
		FrqOutData_setEmpty();							// 모든 버퍼를 비운다.
		RunTblBuf.FrqIO32Data = 0;
		PT_Freq_ID = 0;
		PT_Freq_TimeLimit = 0;
		PT_Freq_Step = 0; // = PT_Freq_Step_Change;		//굳이 할 필요 없어 보여 주석처리
	}

	NowSetV.AutoNextTimer = 0;;
}

void wave_proc_SetStopAndReStart(void)
{
	uint8_t prevLv = NowSetV.Lv;
	wave_proc_SetStopBase();
	NowSetV.Lv = prevLv;
}

void wave_proc_SetLvUp()
{
	if (NowSetV.Lv < MAXLV)
	{
		++NowSetV.Lv;
	}
	led_SetLevel(NowSetV.Lv);
	led_SetRGBGradationOn(false);

#ifdef VOICECHIP_16BIT
	if(NowSetV.Lv < MAXLV)
		SoundPlayCheckMute(NowSetV.Lv + 4);			// 1~13(레벨)
	else
		SoundPlayCheckMute(19);			// 최대출력 입니다.
#else
	SoundPlayCheckMute(NowSetV.Lv + 3);			// 1~14(레벨)
#endif // VOICECHIP_16BIT
	
}

void wave_proc_SetLvDw()
{
	if (NowSetV.Lv > 0)
	{
		--NowSetV.Lv;
		led_SetLevel(NowSetV.Lv);
		//led_SetRGBGradationOn(false);
#ifdef VOICECHIP_16BIT
		if (NowSetV.Lv < MAXLV)
			SoundPlayCheckMute(NowSetV.Lv + 4);			// 1~13(레벨)
		else
			SoundPlayCheckMute(19);			// 최대출력 입니다.
#else
		SoundPlayCheckMute(NowSetV.Lv + 3);			// 1~14(레벨)
#endif // VOICECHIP_16BIT
	}
	else
	{
		wave_proc_SetStop();
	}

}

void wave_proc_SetModeUp()
{
	if (NowSetV.Mode < MODELASTID)
	{
		++NowSetV.Mode;
	}
	else
	{
		NowSetV.Mode = 0;
	}

	led_SetRGBCol(NowSetV.Mode);
	NowSetV.AutoNextTimer = 0;
	wave_proc_SetStopAndReStart();

#ifdef VOICECHIP_16BIT
	SoundPlayCheckMute(NowSetV.Mode + 20);		// x번째 모드입니다.
#else
	SoundPlayCheckMute(NowSetV.Mode + 18);		// 빨강~쪽빛 모드입니다.
#endif // VOICECHIP_16BIT
}

void wave_proc_SetModeDw()
{
	if (NowSetV.Mode > 0)
	{
		--NowSetV.Mode;
	}
	else
	{
		NowSetV.Mode = MODELASTID;
	}

	led_SetRGBCol(NowSetV.Mode);
	NowSetV.AutoNextTimer = 0;
	wave_proc_SetStopAndReStart();
#ifdef VOICECHIP_16BIT
	SoundPlayCheckMute(NowSetV.Mode + 20);		// x번째 모드입니다.
#else
	SoundPlayCheckMute(NowSetV.Mode + 18);		// 빨강~쪽빛 모드입니다.
#endif // VOICECHIP_16BIT
}

void wave_proc_SetAutoNext()
{
	NowSetV.AutoNext = !NowSetV.AutoNext;
	NowSetV.AutoNextTimer = 0;

	if (NowSetV.AutoNext)
	{

#ifdef VOICECHIP_16BIT
		SoundPlayCheckMute(32);					// 모드를 자동으로 바꿉니다.
#else
		SoundPlayCheckMute(27);					// 파형을 자동으로 바꿉니다.
#endif // VOICECHIP_16BIT
	}
	else
	{
#ifdef VOICECHIP_16BIT
		SoundPlayCheckMute(33);					// 모드를 자동으로 바꾸지 않습니다.
#else
		SoundPlayCheckMute(28);					// 파형을 자동으로 바꾸지 않습니다.
#endif // VOICECHIP_16BIT
	}
}

void wave_proc_SetAutoOff()
{
	NowSetV.AutoOff = !NowSetV.AutoOff;
	NowSetV.AutoOffTimer = 0;

	if (NowSetV.AutoOff)
	{
#ifdef VOICECHIP_16BIT
		SoundPlayCheckMute(30);					// 자동종료가 설정 되었습니다.
#else
		SoundPlayCheckMute(25);					// 자동종료가 설정 되었습니다.
#endif // VOICECHIP_16BIT
	}
	else
	{
#ifdef VOICECHIP_16BIT
		SoundPlayCheckMute(31);					// 자동종료가 해제 되었습니다.
#else
		SoundPlayCheckMute(26);					// 자동종료가 해제 되었습니다.
#endif // VOICECHIP_16BIT
	}
}

void wave_proc_SetMuteMode()
{
	NowSetV.MuteMode = !NowSetV.MuteMode;

	if (NowSetV.MuteMode)
	{
#ifdef VOICECHIP_16BIT
		SoundPlay(34);							// 음소거가 설정되었습니다.
#else
		SoundPlay(29);							// 음소거가 설정되었습니다.
#endif // VOICECHIP_16BIT

	}
	else
	{
#ifdef VOICECHIP_16BIT
		SoundPlay(35);							// 음소거가 해제되었습니다.
#else
		SoundPlay(30);							// 음소거가 해제되었습니다.
#endif // VOICECHIP_16BIT

	}
}

bool wave_proc_GetPw()
{
	return NowSetV.MainPower;
}

void wave_proc_SetPw(bool SetPower)
{
	if (NowSetV.MainPower == SetPower)
		return;

	if (NowSetV.MainPower)
	{
		SoundPlayCheckMute(1);					// 안녕하세요. 프시케입니다.
	}
	else
	{
		SoundPlayCheckMute(2);					// 프시케를 종료합니다.
	}
	NowSetV.MainPower = SetPower;
}

void SoundPlayCheckMute(uint8_t num)
{
	if (!NowSetV.MuteMode)
		SoundPlay(num);
}

void PatternSetTestMode()
{
	NowSetV.Mode = 5;
	NowSetV.AutoNext = false;
	NowSetV.AutoOff = false;

	for (uint8_t i = 0; i < 7; i++)
	{
		for (uint8_t j = 0; j < 4; j++)
		{
			Power_UserLv[i][j][0] = 0.00f;
			Power_UserLv[i][j][1] = 0.05f;
			Power_UserLv[i][j][2] = 0.10f;
			for (uint8_t k = 3; k < 15; k++)
			{
				Power_UserLv[i][j][k] = Power_UserLv[i][j][k - 1] + 0.10f;
			}
		}
	}

	memset(&Pattern_Base, 0, sizeof(Pattern_Base));
	//1ch 기본
	Pattern_Base[0][0] = 128;
	Pattern_Base[0][2] = 64;
	//상하+밖안
	Pattern_Base[1][0] = 144;
	Pattern_Base[1][2] = 96;
	Pattern_Base[1][4] = 9;
	Pattern_Base[1][6] = 6;

	memset(&Pattern_Freq, 0, sizeof(Pattern_Freq));
	for (uint8_t i = 0; i < 7; i++)
	{
		Pattern_Freq[0][i] = 1;	//7번 1*50usec
	}
	Pattern_Freq[0][7] = 80;	//마지막 8*50usec

	memset(&Pattern_Time, 0, sizeof(Pattern_Time));
	for (uint8_t i = 0; i < 7; i++)
	{
		Pattern_Time[i][0][0] = Pattern_Time[i][0][1] = 0;	// 1Ch 기본 패턴 설정
		Pattern_Time[i][0][2] = Pattern_Time[i][0][3] = 1;	// 상하+밖안 패턴 설정
		Pattern_Time[i][0][4] = 0;							// 400Hz FRQ 설정
		Pattern_Time[i][0][5] = 100;						// 10sec 설정
	}

	memset(&Power_Wave, 0, sizeof(Power_Wave));
	for (uint8_t i = 0; i < 7; i++)
	{
		for (uint8_t j = 0; j < 4; j++)
		{

			Power_Wave[i][j][0][0] = 100;	// 전압 100% 설정
			Power_Wave[i][j][0][1] = 0;		// 즉시 전압 변경

			Power_Wave[i][j][1][0] = 100;	// 전압 100% 설정
			Power_Wave[i][j][1][1] = 100;	// 10sec 설정
		}
	}
}